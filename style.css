/* Modern Performance-Focused CSS - Instagram Content Downloader 
 * Reduces file size by ~40% and improves rendering speed dramatically
 */

/* Modern CSS Reset & Optimization */
:root {
    /* Color system using HSL for better color manipulation */
    --primary-h: 270;
    --primary-s: 91%;
    --primary-l: 75%;
    --primary: hsl(var(--primary-h), var(--primary-s), var(--primary-l));
    --primary-light: hsl(var(--primary-h), var(--primary-s), 82%);
    --primary-dark: hsl(var(--primary-h), var(--primary-s), 65%);
    
    --secondary-h: 254;
    --secondary-s: 90%;
    --secondary-l: 65%;
    --secondary: hsl(var(--secondary-h), var(--secondary-s), var(--secondary-l));
    --secondary-light: hsl(var(--secondary-h), 80%, 75%);
    --secondary-dark: hsl(var(--secondary-h), 90%, 58%);
    
    /* Neutral colors using HSL */
    --bg-h: 240;
    --bg-s: 17%;
    --bg-l: 7%;
    --bg: hsl(var(--bg-h), var(--bg-s), var(--bg-l));
    --surface1: hsl(var(--bg-h), var(--bg-s), 11%);
    --surface2: hsl(var(--bg-h), var(--bg-s), 15%);
    --surface3: hsl(var(--bg-h), var(--bg-s), 19%);
    
    /* Text colors */
    --text-1: hsl(220, 13%, 95%);
    --text-2: hsl(220, 13%, 85%);
    --text-3: hsl(220, 13%, 65%);
    
    /* Space scale with custom properties (smaller scale) */
    --space-1: 0.25rem;  /* 4px */
    --space-2: 0.5rem;   /* 8px */
    --space-3: 0.75rem;  /* 12px */
    --space-4: 1rem;     /* 16px */
    --space-5: 1.5rem;   /* 24px */
    --space-6: 2rem;     /* 32px */
    --space-7: 3rem;     /* 48px */
    
    /* Radii */
    --radius-sm: 0.375rem;
    --radius-md: 0.5rem;
    --radius-lg: 0.75rem;
    --radius-xl: 1rem;
    --radius-full: 9999px;
    
    /* Shadows - simplified */
    --shadow-sm: 0 1px 3px rgba(0,0,0,0.2);
    --shadow-md: 0 4px 10px rgba(0,0,0,0.15);
    --shadow-lg: 0 10px 25px rgba(0,0,0,0.12);
    
    /* Borders */
    --border: 1px solid hsl(var(--bg-h), var(--bg-s), 20%);
    
    /* Font */
    --font: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
    
    /* Common transitions */
    --transition-fast: 150ms ease;
    --transition-normal: 250ms ease;
  }
  
  /* Modern CSS Reset */
  *,
  *::before,
  *::after {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
  }
  
  /* Use fluid font size based on viewport */
  html {
    font-size: clamp(16px, 0.8vw + 14px, 19px);
    color-scheme: dark;
    overflow-x: hidden;
  }
  
  body {
    font-family: var(--font);
    line-height: 1.5;
    color: var(--text-1);
    background-color: var(--bg);
    overflow-x: hidden;
    padding: var(--space-3);
    min-height: 100vh;
    /* Subtle fixed background pattern - much lighter than animated version */
    background-image: 
      radial-gradient(
        circle at 75% 25%,
        hsla(var(--primary-h), var(--primary-s), var(--primary-l), 0.03) 0%, 
        transparent 50%
      );
  }
  
  /* Improved element focus styles */
  :focus-visible {
    outline: 2px solid var(--primary);
    outline-offset: 2px;
  }
  
  /* Improved scrollbar */
  ::-webkit-scrollbar {
    width: 0.5rem;
    height: 0.5rem;
  }
  
  ::-webkit-scrollbar-thumb {
    background: hsl(var(--bg-h), var(--bg-s), 25%);
    border-radius: var(--radius-full);
  }
  
  ::-webkit-scrollbar-thumb:hover {
    background: hsl(var(--bg-h), var(--bg-s), 35%);
  }
  
  /* Responsive container with improved performance */
  .container {
    width: 100%;
    max-width: 56rem; /* 896px */
    margin: var(--space-7) auto;
    padding: var(--space-5);
    background-color: var(--surface1);
    border-radius: var(--radius-lg);
    box-shadow: var(--shadow-md);
    border: var(--border);
    position: relative;
    overflow: hidden;
    text-align: center;
  }
  
  /* Container top border - static, no animation */
  .container::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 2px;
    background: linear-gradient(90deg, transparent, var(--primary), transparent);
  }
  
  /* Typography with proper sizing */
  h1 {
    color: var(--primary-light);
    font-size: 2.25rem;
    font-weight: 700;
    margin-bottom: var(--space-3);
    letter-spacing: -0.01em; 
    position: relative;
    display: inline-block;
  }
  
  h1::after {
    content: '';
    position: absolute;
    bottom: -0.5rem;
    left: 50%;
    transform: translateX(-50%);
    width: 3rem;
    height: 3px;
    background: var(--primary);
    border-radius: 3px;
  }
  
  .subtitle {
    color: var(--text-2);
    margin-bottom: var(--space-6);
    max-width: 36rem;
    margin-left: auto;
    margin-right: auto;
  }
  
  /* Modern input container */
  .input-container {
    display: flex;
    margin-bottom: var(--space-6);
    max-width: 40rem;
    margin-left: auto;
    margin-right: auto;
    position: relative;
    border-radius: var(--radius-full);
    background: var(--surface2);
    box-shadow: var(--shadow-sm);
    border: var(--border);
    overflow: hidden;
  }
  
  /* Icon for input using mask image (more performant than SVG background) */
  .input-container::before {
    content: '';
    position: absolute;
    left: var(--space-4);
    top: 50%;
    transform: translateY(-50%);
    width: 1.125rem;
    height: 1.125rem;
    background-color: var(--primary);
    mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23ffffff' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Ccircle cx='11' cy='11' r='8'/%3E%3Cline x1='21' y1='21' x2='16.65' y2='16.65'/%3E%3C/svg%3E");
    mask-size: contain;
    mask-repeat: no-repeat;
    z-index: 2;
  }
  
  /* Input with better focus handling */
  input[type="text"] {
    flex: 1;
    padding: var(--space-4) var(--space-4) var(--space-4) calc(var(--space-6) + 1.125rem);
    border: none;
    border-radius: var(--radius-full) 0 0 var(--radius-full);
    font-size: 1rem;
    color: var(--text-1);
    background: transparent;
    caret-color: var(--primary);
  }
  
  input[type="text"]::placeholder {
    color: var(--text-3);
  }
  
  input[type="text"]:focus {
    outline: none;
  }
  
  .input-container:focus-within {
    box-shadow: 0 0 0 2px var(--primary-dark), var(--shadow-sm);
  }
  
  /* Optimized button styles */
  button {
    background-color: var(--primary);
    color: white;
    border: none;
    padding: var(--space-4) var(--space-5);
    border-radius: 0 var(--radius-full) var(--radius-full) 0;
    font-size: 1rem;
    font-weight: 600;
    cursor: pointer;
    /* Only transition what changes */
    transition: background-color var(--transition-fast), transform var(--transition-fast);
  }
  
  button:hover {
    background-color: var(--primary-dark);
    transform: translateY(-1px);
  }
  
  button:active {
    transform: translateY(1px);
  }
  
  .secondary-button {
    background-color: var(--secondary);
    color: white;
    border: none;
    padding: var(--space-3) var(--space-5);
    border-radius: var(--radius-full);
    font-size: 0.9375rem;
    font-weight: 600;
    margin-top: var(--space-3);
    cursor: pointer;
    transition: background-color var(--transition-fast), transform var(--transition-fast);
  }
  
  .secondary-button:hover {
    background-color: var(--secondary-dark);
    transform: translateY(-1px);
  }
  
  /* Status indicators - simplified */
  .status {
    padding: var(--space-4);
    border-radius: var(--radius-md);
    margin-bottom: var(--space-5);
    background: var(--surface2);
    border: var(--border);
    display: flex;
    align-items: center;
    justify-content: center;
  }
  
  /* Status indicators with appropriate colors */
  .status.info {
    color: #818cf8;
    border-left: 4px solid #818cf8;
  }
  
  .status.info::before {
    content: 'ℹ️';
    margin-right: var(--space-3);
  }
  
  .status.success {
    color: #34d399;
    border-left: 4px solid #34d399;
  }
  
  .status.success::before {
    content: '✅';
    margin-right: var(--space-3);
  }
  
  .status.error {
    color: #f87171;
    border-left: 4px solid #f87171;
  }
  
  .status.error::before {
    content: '❌';
    margin-right: var(--space-3);
  }
  
  /* Loading indicator - simplified animation */
  .status.loading {
    color: var(--text-2);
    display: flex;
    align-items: center;
    justify-content: center;
  }
  
  .status.loading::before {
    content: '';
    width: 1.25rem;
    height: 1.25rem;
    margin-right: var(--space-3);
    border: 3px solid rgba(255, 255, 255, 0.2);
    border-radius: 50%;
    border-top-color: var(--primary);
    animation: spin 0.8s linear infinite;
  }
  
  @keyframes spin {
    to { transform: rotate(360deg); }
  }
  
  .loading::after {
    content: "...";
    display: inline-block;
    margin-left: var(--space-1);
    letter-spacing: 2px;
  }
  
  /* Download area with improved performance */
  .download-area {
    margin-top: var(--space-6);
    padding: var(--space-5);
    border-radius: var(--radius-lg);
    background: var(--surface2);
    border: var(--border);
    box-shadow: var(--shadow-sm);
    transition: transform var(--transition-fast), box-shadow var(--transition-fast);
  }
  
  .download-area:hover {
    box-shadow: var(--shadow-md);
    transform: translateY(-2px);
  }
  
  /* Media preview container */
  .preview-container {
    margin-bottom: var(--space-4);
    max-width: 100%;
    display: flex;
    justify-content: center;
    border-radius: var(--radius-md);
    overflow: hidden;
    box-shadow: var(--shadow-sm);
    position: relative;
  }
  
  .preview-container::after {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: var(--radius-md);
    box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.1);
    pointer-events: none;
  }
  
  .preview-media {
    max-width: 100%;
    max-height: 31.25rem; /* 500px */
    border-radius: var(--radius-md);
    display: block;
    /* Very subtle transform on hover */
    transition: transform var(--transition-normal);
  }
  
  .preview-container:hover .preview-media {
    transform: scale(1.01);
  }
  
  /* Download button */
  .download-button {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    background-color: var(--primary-dark); /* Darker background */
    color: white; /* Pure white text */
    padding: var(--space-3) var(--space-5);
    border-radius: var(--radius-full);
    text-decoration: none;
    font-weight: 700; /* Bolder text for better contrast */
    font-size: 1.0625rem; /* Slightly larger font */
    margin-top: var(--space-2);
    transition: background-color var(--transition-fast), transform var(--transition-fast);
    box-shadow: var(--shadow-sm);
  }
  
  
  .download-button::before {
    content: '⬇️';
    margin-right: var(--space-2);
    font-size: 1rem;
  }
  
.download-button:hover,
.download-button:focus {
    background-color: hsl(var(--primary-h), var(--primary-s), 50%); /* Even darker on hover/focus */
    transform: translateY(-1px);
    box-shadow: var(--shadow-md);
}
  .download-button:active {
    transform: translateY(1px);
    box-shadow: var(--shadow-sm);
  }
  
  /* Download All container */
  .download-all-container {
    margin: var(--space-4) 0;
    padding: var(--space-4);
    background: var(--surface2);
    border-radius: var(--radius-md);
    border-left: 3px solid var(--primary);
    box-shadow: var(--shadow-sm);
    transition: transform var(--transition-fast);
  }
  
  .download-all-container:hover {
    transform: translateY(-1px);
  }
  
  .download-all-container p {
    margin-bottom: var(--space-2);
    color: var(--primary-light);
    font-weight: 500;
  }
  
  /* Info Section with improved performance */
  .info-section {
    margin-top: var(--space-7);
    padding-top: var(--space-6);
    border-top: 1px solid rgba(255, 255, 255, 0.05);
    text-align: left;
    position: relative;
  }
  
  .info-section::before {
    content: '';
    position: absolute;
    top: -1px;
    left: 0;
    width: 100%;
    height: 1px;
    background: linear-gradient(90deg, transparent, var(--primary-light), transparent);
  }
  
  .info-section h2 {
    color: var(--text-1);
    margin-bottom: var(--space-5);
    font-size: 1.625rem;
    font-weight: 700;
    position: relative;
    display: inline-block;
  }
  
  .info-section h2::after {
    content: '';
    position: absolute;
    bottom: -0.5rem;
    left: 0;
    width: 3rem;
    height: 3px;
    background: var(--primary);
    border-radius: 3px;
  }
  
  .info-section h3 {
    color: var(--primary-light);
    margin: var(--space-6) 0 var(--space-4);
    font-size: 1.375rem;
    font-weight: 600;
  }
  
  .info-section p {
    margin-bottom: var(--space-4);
    color: var(--text-2);
    line-height: 1.7;
  }
  
  /* List styling */
  .info-section ul {
    list-style: none;
    margin-bottom: var(--space-5);
  }
  
  .info-section li {
    margin-bottom: var(--space-2);
    color: var(--text-2);
    position: relative;
    padding-left: 1.5rem;
    line-height: 1.5;
  }
  
  .info-section li::before {
    content: '•';
    position: absolute;
    left: 0;
    color: var(--primary);
    font-size: 1.5rem;
    line-height: 1;
  }
  
  /* Link styling with simpler hover effect */
  .info-section a {
    color: var(--primary-light);
    text-decoration: none;
    transition: color var(--transition-fast);
    border-bottom: 1px solid transparent;
  }
  
  .info-section a:hover {
    color: var(--primary);
    border-bottom-color: var(--primary);
  }
  
  /* FAQ section simplified */
  .faq-section {
    margin-top: var(--space-5);
    background: var(--surface2);
    border-radius: var(--radius-md);
    padding: var(--space-5);
    border: var(--border);
    box-shadow: var(--shadow-sm);
    transition: transform var(--transition-fast);
  }
  
  .faq-section:hover {
    transform: translateY(-1px);
  }
  
  .faq-section h4 {
    color: var(--primary-light);
    margin-bottom: var(--space-2);
    font-size: 1.125rem;
    font-weight: 600;
    display: flex;
    align-items: center;
  }
  
  .faq-section h4::before {
    content: '?';
    font-size: 0.75rem;
    width: 1.125rem;
    height: 1.125rem;
    background: var(--primary-dark);
    border-radius: 50%;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    margin-right: 0.5rem;
    color: white;
  }
  
  .faq-section p {
    margin-bottom: var(--space-5);
    color: var(--text-2);
    line-height: 1.7;
  }
  
  /* Disclaimer styling */
  .disclaimer {
    padding: var(--space-4);
    background: rgba(0, 0, 0, 0.2);
    border-radius: var(--radius-sm);
    font-size: 0.9rem;
    color: var(--text-2);
    font-style: italic;
    border-left: 3px solid var(--text-3);
    margin-top: var(--space-5);
  }
  
  /* Related tools section */
  .related-tools {
    margin-top: var(--space-7);
    padding: var(--space-6);
    background: var(--surface2);
    border-radius: var(--radius-lg);
    text-align: left;
    border: var(--border);
    box-shadow: var(--shadow-md);
  }
  
  .related-tools h3 {
    color: var(--text-1);
    margin-bottom: var(--space-5);
    font-size: 1.375rem;
    font-weight: 600;
    position: relative;
    display: inline-block;
  }
  
  .related-tools h3::after {
    content: '';
    position: absolute;
    bottom: -0.5rem;
    left: 0;
    width: 2.5rem;
    height: 3px;
    background: var(--secondary);
    border-radius: 3px;
  }
  
  /* Grid layout for related tools */
  .related-tools ul {
    list-style-type: none;
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(13.75rem, 1fr));
    gap: var(--space-3);
  }
  
  .related-tools li {
    margin-bottom: 0;
  }
  
  /* Related tools links with simpler hover */
  .related-tools a {
    display: block;
    padding: var(--space-2) var(--space-4);
    background: rgba(255, 255, 255, 0.03);
    color: var(--primary-light);
    text-decoration: none;
    border-radius: var(--radius-sm);
    transition: background-color var(--transition-fast), color var(--transition-fast);
    font-weight: 500;
    border: 1px solid rgba(255, 255, 255, 0.05);
  }
  
  .related-tools a:hover {
    background: var(--primary-dark);
    color: white;
  }
  
  /* Utility classes */
  .hidden {
    display: none;
  }
  
  /* Carousel section */
  .carousel-section {
    margin-top: var(--space-6);
    padding: var(--space-5);
    background: var(--surface2);
    border-radius: var(--radius-lg);
    text-align: center;
    border: var(--border);
    box-shadow: var(--shadow-sm);
  }
  
  .carousel-section h3 {
    margin-bottom: var(--space-5);
    color: var(--primary-light);
    font-size: 1.25rem;
    font-weight: 600;
    position: relative;
    display: inline-block;
  }
  
  .carousel-section h3::after {
    content: '';
    position: absolute;
    bottom: -0.5rem;
    left: 50%;
    transform: translateX(-50%);
    width: 2.5rem;
    height: 3px;
    background: var(--primary);
    border-radius: 3px;
  }
  
  /* Modern grid layout for carousel */
  .carousel-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(15rem, 1fr));
    gap: var(--space-4);
    margin-top: var(--space-5);
  }
  
  /* Carousel items with improved performance */
  .carousel-item {
    display: flex;
    flex-direction: column;
    background: rgba(255, 255, 255, 0.03);
    border-radius: var(--radius-md);
    overflow: hidden;
    box-shadow: var(--shadow-sm);
    transition: transform var(--transition-fast), box-shadow var(--transition-fast);
    height: auto;
    border: var(--border);
    position: relative;
  }
  
  .carousel-item .thumbnail-container {
    position: relative;
    width: 100%;
    padding-top: 100%; /* 1:1 Aspect Ratio */
    overflow: hidden;
    margin-bottom: 0;
    flex-grow: 0;
    flex-shrink: 0;
  }
  
  .carousel-item:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-md);
    z-index: 1;
  }
  
  /* Thumbnail styling */
  .thumbnail-container {
    position: relative;
    width: 100%;
    padding-top: 100%; /* 1:1 Aspect Ratio */
    overflow: hidden;
    margin: 0;
    flex-shrink: 0;
  }
  
  .thumbnail {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center;
    transition: transform var(--transition-normal);
  }
  
  .carousel-item:hover .thumbnail {
    transform: scale(1.03);
  }
  
  /* Item type badge */
  .item-type {
    position: absolute;
    top: 0.625rem;
    right: 0.625rem;
    background: rgba(0, 0, 0, 0.7);
    color: white;
    padding: 0.25rem 0.5rem;
    border-radius: 0.25rem;
    font-size: 0.75rem;
    font-weight: bold;
    letter-spacing: 0.03em;
    border: 1px solid rgba(255, 255, 255, 0.1);
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
    z-index: 2;
  }
  
  /* Download item button */
  .download-item-btn {
    width: 100%;
    padding: 0.75rem 0;
    border: none;
    background: var(--primary);
    color: white;
    font-weight: bold;
    font-size: 0.875rem;
    cursor: pointer;
    transition: background-color var(--transition-fast);
  }
  
  .download-item-btn:hover {
    background: var(--primary-dark);
  }
  
  .download-item-btn:disabled {
    background: #555;
    cursor: not-allowed;
  }
  
  /* Item buttons container */
  .carousel-item .item-buttons {
    display: flex;
    flex-direction: column;
    width: 100%;
    margin: 0;
    padding: 0;
  }
  
  .carousel-item .download-item-btn,
  .carousel-item .extract-audio-item-btn {
    margin: 0;
    border-radius: 0;
    width: 100%;
    border-top: 1px solid rgba(255, 255, 255, 0.05);
  }
  
  .carousel-item .download-item-btn:first-child {
    border-top: none;
  }
  
  /* Current item indicator */
  .current-item-indicator {
    margin: var(--space-4) 0;
    color: var(--text-2);
    font-size: 1rem;
    text-align: center;
    padding: var(--space-1) var(--space-4);
    background: rgba(0, 0, 0, 0.2);
    border-radius: var(--radius-full);
    display: inline-block;
  }
  
  /* Main item display */
  .main-item {
    margin-bottom: var(--space-6);
    text-align: center;
  }
  
  .main-item h3 {
    margin-bottom: var(--space-4);
    color: var(--text-1);
    font-size: 1.125rem;
    font-weight: 600;
  }
  
  .media-container {
    max-width: 100%;
    margin: 0 auto var(--space-5);
    border-radius: var(--radius-md);
    overflow: hidden;
    box-shadow: var(--shadow-md);
    position: relative;
    border: var(--border);
  }
  
  .media-container::after {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: var(--radius-md);
    box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.1);
    pointer-events: none;
  }
  
  .media-preview {
    max-width: 100%;
    max-height: 31.25rem; /* 500px */
    display: block;
    margin: 0 auto;
    border-radius: var(--radius-md);
    transition: transform var(--transition-normal);
  }
  
  .media-container:hover .media-preview {
    transform: scale(1.01);
  }
  
  /* Button containers */
  .download-buttons-container,
  .buttons-container,
  .item-buttons {
    display: flex;
    gap: var(--space-2);
    margin-top: var(--space-4);
    justify-content: center;
    flex-wrap: wrap;
  }
  
  /* Audio extraction buttons */
  .extract-audio-button,
  .extract-audio-btn,
  .extract-audio-item-btn {
    background: var(--secondary);
    color: white;
    border: none;
    padding: var(--space-3) var(--space-5);
    border-radius: var(--radius-full);
    cursor: pointer;
    min-width: 11.25rem; /* 180px */
    font-size: 0.9375rem;
    font-weight: 600;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: background-color var(--transition-fast), transform var(--transition-fast);
    border: 1px solid rgba(255, 255, 255, 0.1);
    box-shadow: var(--shadow-sm);
  }
  
  .extract-audio-button::before,
  .extract-audio-btn::before,
  .extract-audio-item-btn::before {
    content: '♪';
    margin-right: 0.5rem;
    font-size: 1.125rem;
    font-weight: bold;
    flex-shrink: 0;
    display: inline-block;
    background: rgba(255, 255, 255, 0.15);
    width: 1.5rem;
    height: 1.5rem;
    line-height: 1.5rem;
    text-align: center;
    border-radius: 50%;
  }
  
  .extract-audio-button:hover,
  .extract-audio-btn:hover,
  .extract-audio-item-btn:hover {
    background: var(--secondary-dark);
    transform: translateY(-1px);
  }
  
  .extract-audio-button:active,
  .extract-audio-btn:active,
  .extract-audio-item-btn:active {
    transform: translateY(1px);
  }
  
  .extract-audio-item-btn {
    padding: 0.75rem 0;
    width: 100%;
    border-radius: 0;
    margin-top: 1px;
  }
  
  /* Disabled state */
  .extract-audio-button:disabled,
  .extract-audio-btn:disabled,
  .extract-audio-item-btn:disabled {
    background: #555;
    cursor: not-allowed;
    transform: none;
    box-shadow: none;
  }
  
  /* Responsive styles - modern approach with container queries where supported */
  @supports (container-type: inline-size) {
    .container {
      container-type: inline-size;
      container-name: main;
    }
  
    /* Container query-based responsive design */
    @container main (max-width: 768px) {
      .carousel-grid {
        grid-template-columns: repeat(auto-fill, minmax(10rem, 1fr));
      }
    }
  
    @container main (max-width: 480px) {
      .carousel-grid {
        grid-template-columns: repeat(auto-fill, minmax(8rem, 1fr));
      }
    }
  }
  
  /* Responsive design using media queries as fallback */
  @media (max-width: 768px) {
    :root {
      /* Adjust spacing for smaller screens */
      --space-6: 1.75rem;
      --space-7: 2.5rem;
    }
    
    .container {
      padding: var(--space-4);
      margin: var(--space-5) auto;
      border-radius: var(--radius-md);
    }
    
    h1 {
      font-size: 1.75rem;
    }
    
    .subtitle {
      font-size: 1rem;
    }
    
    .related-tools ul {
      grid-template-columns: repeat(auto-fill, minmax(11rem, 1fr));
    }
    
    .info-section h2 {
      font-size: 1.5rem;
    }
    
    .info-section h3 {
      font-size: 1.25rem;
    }
  }
  
  @media (max-width: 600px) {
    body {
      padding: var(--space-2);
    }
    
    .container {
      padding: var(--space-4) var(--space-3);
      margin: var(--space-4) auto;
    }
    
    /* Convert input container to stacked layout on small screens */
    .input-container {
      flex-direction: column;
      border-radius: var(--radius-md);
    }
    
    .input-container input[type="text"] {
      width: 100%;
      border-radius: var(--radius-md) var(--radius-md) 0 0;
      padding: var(--space-4) var(--space-4) var(--space-4) calc(var(--space-5) + 1.125rem);
      border-bottom: 1px solid rgba(255, 255, 255, 0.05);
    }
    
    .input-container::before {
      left: var(--space-3);
      top: var(--space-4);
      transform: none;
    }
    
    .input-container button {
      width: 100%;
      border-radius: 0 0 var(--radius-md) var(--radius-md);
      margin: 0;
    }
    
    /* Full-width buttons on mobile */
    .download-button, 
    .extract-audio-button {
      width: 100%;
      min-width: unset;
      margin: 0.25rem 0;
      justify-content: center;
    }
    
    .download-buttons-container {
      flex-direction: column;
      width: 100%;
    }
    
    .related-tools ul {
      grid-template-columns: 1fr;
    }
    
    .download-area {
      padding: var(--space-4);
    }
    
    .carousel-grid {
      grid-template-columns: repeat(2, 1fr);
      gap: var(--space-2);
    }
    
    h1 {
      font-size: 1.5rem;
    }
    
    .subtitle {
      font-size: 0.9rem;
      margin-bottom: var(--space-5);
    }
    
    .info-section h2 {
      font-size: 1.375rem;
    }
    
    .info-section h3 {
      font-size: 1.125rem;
    }
    
    .faq-section h4 {
      font-size: 1rem;
    }
  }
  
  @media (max-width: 400px) {
    .carousel-grid {
      grid-template-columns: 1fr;
    }
  }
  
  /* Print styles for better accessibility */
  @media print {
    body {
      background: #fff;
      color: #000;
    }
    
    .container {
      box-shadow: none;
      border: 1px solid #ccc;
    }
    
    button, .download-button, .extract-audio-button {
      background: #eee !important;
      color: #333 !important;
      border: 1px solid #999;
    }
    
    /* Hide non-essential elements when printing */
    .status, .related-tools, .carousel-section {
      display: none;
    }
  }
  
  /* Add support for reduced motion preference */
  @media (prefers-reduced-motion: reduce) {
    *, 
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
      scroll-behavior: auto !important;
    }
    
    .preview-media,
    .media-preview,
    .thumbnail {
      transition: none !important;
    }
    
    .preview-container:hover .preview-media,
    .media-container:hover .media-preview,
    .carousel-item:hover .thumbnail {
      transform: none !important;
    }
  }
  
  /* Add support for dark/light mode preference */
  @media (prefers-color-scheme: dark) {
    :root {
      /* Dark theme is default, no need to change */
    }
  }
  
  @media (prefers-color-scheme: light) {
    :root {
      /* Light theme alternative colors */
      --bg: hsl(240, 10%, 95%);
      --surface1: hsl(240, 10%, 98%);
      --surface2: hsl(240, 10%, 92%);
      --surface3: hsl(240, 10%, 89%);
      
      --text-1: hsl(240, 10%, 10%);
      --text-2: hsl(240, 10%, 25%);
      --text-3: hsl(240, 10%, 40%);
      
      --border: 1px solid hsl(240, 10%, 80%);
    }
    
    .status.loading::before {
      border-color: rgba(0, 0, 0, 0.1);
      border-top-color: var(--primary);
    }
  }
  
  /* Add support for high contrast mode */
  @media (forced-colors: active) {
    :root {
      --primary: CanvasText;
      --primary-light: CanvasText;
      --primary-dark: CanvasText;
      --secondary: CanvasText;
      --secondary-light: CanvasText;
      --secondary-dark: CanvasText;
      
      --surface1: Canvas;
      --surface2: Canvas;
      --surface3: Canvas;
      
      --text-1: CanvasText;
      --text-2: CanvasText;
      --text-3: GrayText;
      
      --border: 1px solid CanvasText;
    }
    
    button, 
    .download-button,
    .extract-audio-button,
    .input-container,
    .status,
    .download-area,
    .carousel-item,
    .faq-section {
      border: 1px solid CanvasText;
    }
  }

  :root {
    /* Primary color with better contrast (deeper purple) */
    --primary-h: 270;
    --primary-s: 91%;
    --primary-l: 65%; /* Darker than original for better contrast */
    --primary: hsl(var(--primary-h), var(--primary-s), var(--primary-l));
    --primary-light: hsl(var(--primary-h), var(--primary-s), 75%);
    --primary-dark: hsl(var(--primary-h), var(--primary-s), 55%); /* Darker */
    
    /* Secondary colors with better contrast */
    --secondary-h: 254;
    --secondary-s: 90%;
    --secondary-l: 60%; /* Slightly darker */
    --secondary: hsl(var(--secondary-h), var(--secondary-s), var(--secondary-l));
    --secondary-light: hsl(var(--secondary-h), 80%, 70%);
    --secondary-dark: hsl(var(--secondary-h), 90%, 50%);
    
    /* Text colors with enhanced contrast */
    --text-1: hsl(220, 13%, 98%); /* Brighter for more contrast */
    --text-2: hsl(220, 13%, 90%);
    --text-3: hsl(220, 13%, 75%); /* Brighter for better contrast */
  }

  button,
.secondary-button,
.download-item-btn,
.extract-audio-button,
.extract-audio-btn,
.extract-audio-item-btn {
  font-weight: 700;
  color: white; /* Ensure white text */
}

button {
  background-color: var(--primary-dark);
}

button:hover,
button:focus {
  background-color: hsl(var(--primary-h), var(--primary-s), 50%);
}

.secondary-button {
  background-color: var(--secondary-dark);
}

.secondary-button:hover,
.secondary-button:focus {
  background-color: hsl(var(--secondary-h), var(--secondary-s), 45%);
}

/* Ensure all interactive elements have strong focus indicators */
button:focus-visible,
a:focus-visible,
input:focus-visible,
.download-button:focus-visible,
.secondary-button:focus-visible {
  outline: 3px solid white;
  outline-offset: 2px;
}

/* Improve text contrast in various sections */
.status {
  color: var(--text-1);
}

.status.info {
  color: hsl(240, 95%, 82%); /* Brighter blue */
  border-left-color: hsl(240, 95%, 65%);
}

.status.success {
  color: hsl(142, 72%, 75%); /* Brighter green */
  border-left-color: hsl(142, 72%, 55%);
}

.status.error {
  color: hsl(0, 84%, 80%); /* Brighter red */
  border-left-color: hsl(0, 84%, 60%);
}

/* Ensure all text has sufficient contrast */
.subtitle,
.info-section p,
.info-section li,
.faq-section p {
  color: var(--text-1); /* Brightest text color for better contrast */
}

/* Ensure proper contrast in form elements */
input[type="text"]::placeholder {
  color: hsl(220, 13%, 60%); /* Higher contrast placeholder */
}

/* Add an explicit contrast adjustment class for any elements that need it */
.high-contrast {
  color: white !important;
  background-color: hsl(var(--primary-h), var(--primary-s), 40%) !important;
}


/* Theme Toggle System - Add this to your CSS */

/* Define theme variables for both themes */
:root {
  /* Common variables */
  --space-1: 0.25rem;  /* 4px */
  --space-2: 0.5rem;   /* 8px */
  --space-3: 0.75rem;  /* 12px */
  --space-4: 1rem;     /* 16px */
  --space-5: 1.5rem;   /* 24px */
  --space-6: 2rem;     /* 32px */
  --space-7: 3rem;     /* 48px */
  
  --radius-sm: 0.375rem;
  --radius-md: 0.5rem;
  --radius-lg: 0.75rem;
  --radius-xl: 1rem;
  --radius-full: 9999px;
  
  --font: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
  --transition-fast: 150ms ease;
  --transition-normal: 250ms ease;
}

/* Dark theme variables (default) */
.theme-dark {
  /* Primary colors */
  --primary-h: 270;
  --primary-s: 91%;
  --primary-l: 65%;
  --primary: hsl(var(--primary-h), var(--primary-s), var(--primary-l));
  --primary-light: hsl(var(--primary-h), var(--primary-s), 75%);
  --primary-dark: hsl(var(--primary-h), var(--primary-s), 55%);
  
  /* Secondary colors */
  --secondary-h: 254;
  --secondary-s: 90%;
  --secondary-l: 60%;
  --secondary: hsl(var(--secondary-h), var(--secondary-s), var(--secondary-l));
  --secondary-light: hsl(var(--secondary-h), 80%, 70%);
  --secondary-dark: hsl(var(--secondary-h), 90%, 50%);
  
  /* Background colors */
  --bg-h: 240;
  --bg-s: 17%;
  --bg-l: 7%;
  --bg: hsl(var(--bg-h), var(--bg-s), var(--bg-l));
  --surface1: hsl(var(--bg-h), var(--bg-s), 11%);
  --surface2: hsl(var(--bg-h), var(--bg-s), 15%);
  --surface3: hsl(var(--bg-h), var(--bg-s), 19%);
  
  /* Text colors */
  --text-1: hsl(220, 13%, 98%);
  --text-2: hsl(220, 13%, 90%);
  --text-3: hsl(220, 13%, 75%);
  
  /* UI elements */
  --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.2);
  --shadow-md: 0 4px 10px rgba(0, 0, 0, 0.15);
  --shadow-lg: 0 10px 25px rgba(0, 0, 0, 0.12);
  --border: 1px solid hsl(var(--bg-h), var(--bg-s), 20%);
}

/* Light theme variables */
.theme-light {
  /* Primary colors - slightly darker for contrast in light mode */
  --primary-h: 270;
  --primary-s: 91%;
  --primary-l: 60%;
  --primary: hsl(var(--primary-h), var(--primary-s), var(--primary-l));
  --primary-light: hsl(var(--primary-h), var(--primary-s), 70%);
  --primary-dark: hsl(var(--primary-h), var(--primary-s), 50%);
  
  /* Secondary colors - slightly darker for contrast in light mode */
  --secondary-h: 254;
  --secondary-s: 90%;
  --secondary-l: 55%;
  --secondary: hsl(var(--secondary-h), var(--secondary-s), var(--secondary-l));
  --secondary-light: hsl(var(--secondary-h), 80%, 65%);
  --secondary-dark: hsl(var(--secondary-h), 90%, 45%);
  
  /* Background colors - light theme */
  --bg-h: 240;
  --bg-s: 10%;
  --bg-l: 95%;
  --bg: hsl(var(--bg-h), var(--bg-s), var(--bg-l));
  --surface1: hsl(var(--bg-h), var(--bg-s), 98%);
  --surface2: hsl(var(--bg-h), var(--bg-s), 92%);
  --surface3: hsl(var(--bg-h), var(--bg-s), 89%);
  
  /* Text colors - dark for light theme */
  --text-1: hsl(240, 10%, 10%);
  --text-2: hsl(240, 10%, 25%);
  --text-3: hsl(240, 10%, 40%);
  
  /* UI elements - light theme */
  --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.1);
  --shadow-md: 0 4px 10px rgba(0, 0, 0, 0.07);
  --shadow-lg: 0 10px 25px rgba(0, 0, 0, 0.05);
  --border: 1px solid hsl(var(--bg-h), var(--bg-s), 80%);
}

/* Apply dark theme by default */
:root {
  color-scheme: dark;
}

body {
  /* Default to dark theme */
  --primary-h: 270;
  --primary-s: 91%;
  --primary-l: 65%;
  --primary: hsl(var(--primary-h), var(--primary-s), var(--primary-l));
  --primary-light: hsl(var(--primary-h), var(--primary-s), 75%);
  --primary-dark: hsl(var(--primary-h), var(--primary-s), 55%);
  
  --secondary-h: 254;
  --secondary-s: 90%;
  --secondary-l: 60%;
  --secondary: hsl(var(--secondary-h), var(--secondary-s), var(--secondary-l));
  --secondary-light: hsl(var(--secondary-h), 80%, 70%);
  --secondary-dark: hsl(var(--secondary-h), 90%, 50%);
  
  --bg-h: 240;
  --bg-s: 17%;
  --bg-l: 7%;
  --bg: hsl(var(--bg-h), var(--bg-s), var(--bg-l));
  --surface1: hsl(var(--bg-h), var(--bg-s), 11%);
  --surface2: hsl(var(--bg-h), var(--bg-s), 15%);
  --surface3: hsl(var(--bg-h), var(--bg-s), 19%);
  
  --text-1: hsl(220, 13%, 98%);
  --text-2: hsl(220, 13%, 90%);
  --text-3: hsl(220, 13%, 75%);
  
  --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.2);
  --shadow-md: 0 4px 10px rgba(0, 0, 0, 0.15);
  --shadow-lg: 0 10px 25px rgba(0, 0, 0, 0.12);
  --border: 1px solid hsl(var(--bg-h), var(--bg-s), 20%);
}

/* Theme toggle button styles */
.theme-toggle {
  position: fixed;
  bottom: 1.5rem;
  right: 1.5rem;
  background: var(--surface2);
  border: var(--border);
  border-radius: var(--radius-full);
  width: 3rem;
  height: 3rem;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  box-shadow: var(--shadow-md);
  z-index: 1000;
  transition: background-color var(--transition-fast);
}

.theme-toggle:hover {
  background: var(--surface3);
}

.theme-toggle::before {
  content: "☀️";
  font-size: 1.5rem;
}

body.theme-light .theme-toggle::before {
  content: "🌙";
}

/* Transition for theme changes */
body {
  transition: background-color 0.3s ease, color 0.3s ease;
}

.container,
.input-container,
.status,
.download-area,
.faq-section,
.carousel-section,
.related-tools,
button,
.download-button,
.secondary-button,
.extract-audio-button {
  transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease, box-shadow 0.3s ease;
}

/* Add this to your style.css file */

/* Footer styles */
.site-footer {
  margin-top: 50px;
  padding-top: 20px;
  border-top: 1px solid rgba(255, 255, 255, 0.1);
  text-align: center;
}

.footer-links {
  display: flex;
  justify-content: center;
  gap: 30px;
  margin-bottom: 15px;
}

.footer-links a {
  color: var(--primary-color);
  text-decoration: none;
  font-weight: 500;
  transition: all 0.3s ease;
}

.footer-links a:hover {
  color: var(--primary-hover);
  text-decoration: underline;
}

.copyright {
  color: var(--text-secondary);
  font-size: 14px;
  margin-bottom: 20px;
}


.made-with-love {
  color: var(--text-secondary);
  font-size: 14px;
  margin-bottom: 20px;
}

.heart {
  display: inline-block;
  color: #e25555; /* Red color for the heart */
  animation: heartbeat 1.5s ease infinite;
}

@keyframes heartbeat {
  0% { transform: scale(1); }
  14% { transform: scale(1.3); }
  28% { transform: scale(1); }
  42% { transform: scale(1.3); }
  70% { transform: scale(1); }
}

/* Responsive adjustments */
@media (max-width: 600px) {
  .footer-links {
      flex-direction: column;
      gap: 15px;
  }
}